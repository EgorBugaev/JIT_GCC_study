## Just in time compilation to change unfriendly external API

В проекте реализовано создание промежуточной (невидимой для внешнего пользователя) функции между вызовом снаружи и действительно вызываемой пользователем функции.

Внешние API часто бывает реализовано неподходяще для целей нашего проекта. В данном примере используется игрушечная внешняя библиотека external_lib.h, где реализованы функции логгирования.

Мы хотим добавить к запускаемой там функции логгирования дополнительные параметры. Для этого с помощью just-in-time компиляции создается промежуточная функция, которой мы подменяем оригинальную функцию логгирования внешней библиотеки.

Сгенерированная функция принимает набор параметров стандартной, но затем добавляет к ним определенные на этапе ее генерации пользовательские параметры, и запускает нашу (пользовательскую) функцию логгирования с полным набором.

# Схема
Хотим, чтобы при запуске zoo_do_log из extrenal_lib.h запускалась функция с двумя параметрами вместо одного (вторым параметром выступит void*).

Для этого создаем промежуточную функцию jit_callback в zoo_set_my_log_callback, которая имеет сигнатуру void (const char*), но внутри себя вызывает пользовательскую функцию my_log_callback(const char*, char*), подставляя второй аргумент сама (он определяется на этапе компиляции jit_callback).

# Запуск
1. Установить билиотеку libgccjit (API для just in time компиляции с помощью gcc)
2. Собрать программу с помощью "gcc main.c external_lib.c -o main -lgccjit"
3. Запустить программу